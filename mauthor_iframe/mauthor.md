# mauthor-iframe functions and variables

The following file contains an unofficial documentation of [quizTemplates.js](quizTemplates.js) and [otherFunctions.js](otherFunctions.js) files. Most of the functions haven't been reverse engineered, but I have collected information that i know of.

## quizTemplates

This section describes functions and variables that are defined as part of the `quizTemplates` object. This is the index of these variables and functions:

Properties (variables):

```js
0: "DOMChangeListenerRegistered"
1: "_aggResults"
2: "_atached"
3: "_results"
4: "abilities"
5: "accessedPageIDs"
6: "aggResults"
7: "aggScope"
8: "aggmAuthorResults"
9: "allData"
10: "assigned"
11: "atached"
12: "attachment"
13: "backUrl"
14: "backupState"
15: "checkFullScreen"
16: "currentPage"
17: "dataType"
18: "dataUrl"
19: "diff"
20: "divId"
21: "edit"
22: "evalType"
23: "firstTemplate"
24: "hackProcessed"
25: "hideCheckbox"
26: "ids"
27: "instanceId"
28: "len"
29: "lessonTaskPackageId"
30: "levels"
31: "mathJaxFiredCount"
32: "mathProcessed"
33: "mathjaxDoneTimerId"
34: "mode"
35: "openEvaluation"
36: "pagaLoaded"
37: "pageloadedTime"
38: "paragraphVisible"
39: "points"
40: "prevPage"
41: "print"
42: "questionLevels"
43: "quizId"
44: "quizTimes"
45: "repaintIntervalId"
46: "requestNumber"
47: "results"
48: "sprAtached"
49: "sprAtachedSizes"
50: "state"
51: "state2"
52: "statiticsTimeout"
53: "stgId"
54: "studentId"
55: "studentTeachingGroupLessonMaterialId"
56: "subdata"
57: "subdataId"
58: "teachingGroupLessonMaterialId"
59: "text"
60: "togleStates"
61: "version"
62: "workingDir"
63: "workingState"
64: "workingStateTimestamp"
65: "youtubeVisible"
```

Methods (functions):

```js
0: "EvaluationsWasSent"
1: "LevelChanged"
2: "ReprocessHeights"
3: "checkDone"
4: "clearState"
5: "compressState"
6: "convertToNullIfOpenQuiz"
7: "copyData"
8: "deleteFile"
9: "detectIE"
10: "editData"
11: "evaluate"
12: "eventCallback"
13: "getActiveMenuItem"
14: "getRandomInt"
15: "getSelectedTaskList"
16: "getState"
17: "getXmlDom"
18: "getcurrentPageId"
19: "goToPageIdCallback"
20: "goback"
21: "goto"
22: "gotoPageId"
23: "hackSelectHtmlEntities"
24: "hidepopup"
25: "isItemInArray"
26: "loadSavedLocalState"
27: "lockControls"
28: "mAuthorCheck"
29: "mAuthorEvaluate"
30: "maPlayer"
31: "markAsDone"
32: "markAsDone2"
33: "markPagesAsUnanswered"
34: "mathJaxHook"
35: "next"
36: "normalize"
37: "notionClick"
38: "paintAnswers"
39: "parseData"
40: "parseMode"
41: "percentToPoints"
42: "pointsLitteral"
43: "popupCallback"
44: "prepareLinks"
45: "prev"
46: "printCallback"
47: "printData"
48: "printResults"
49: "printState"
50: "process"
51: "process_timed"
52: "reMakePage"
53: "recalculatePageHeight"
54: "reloadMathJax"
55: "reportError"
56: "reprocessHrefs"
57: "reprocessPopup"
58: "resultsCallback"
59: "saveLocalState"
60: "saveRezState"
61: "saveState"
62: "scaleView"
63: "sendStatistics"
64: "setDone"
65: "setInterval"
66: "setResults"
67: "showAnswers"
68: "showResultData"
69: "shuffle"
70: "statisticsCallback"
71: "tempResultsCallback"
72: "togle"
73: "unlockControls"
74: "updateMokData"
75: "uploadComplete"
76: "uploadFailed"
```

### Properties (variables)

This is a collection of properties that I have found interesting, others seem to either return `null` or be useless.

#### quizTemplates._results

A property that contains the current quiz results for each individual task. Shows how many `maxPoints` each task has, also how many `points` the quiz would give if the test was turned in at the current moment.

#### quizTemplates.accessedPageIDs

Shows ID's of tasks which have already been opened

#### quizTemplates.backupState

Contains partial quizTemplates.state object stored in a string.

#### quizTemplates.currentPage

Contains current task ID.

#### quizTemplates.evalType

Contains evaluation type in a string.

Observed values:

- `"points"`

#### quizTemplates.hackProcessed

Boolean. No real value, except it might be mentioning some internal hack?

#### quizTemplates.ids

Shows all task ID's of the specific quiz.

#### quizTemplates.levels

Returns an array, which is the the same size as how many tasks are in a quiz. I assume that each value in this array corresponds to a single task and describes which 'difficulty' level the task is.

Observed values of individual array items:

- `1`
- `2`

#### quizTemplates.mode

Contains the quiz 'mode'. I believe that this mode can be one of these: solve('sprendimas'), evaluate('perziura') and others. It might be, that depending on this mode the quiz loads and behaves differently.

Observed values:

- `"sprendimas"`

#### quizTemplates.pageloadedTime

Return a big integer. Might be the time the quiz has been opened, in seconds.

#### quizTemplates.points

An array that stores `maxPoints` of each task in a quiz.

#### quizTemplates.questionLevels

Returns a dictionary with task ID's as `keys` and task levels as `values`.

Observed task level values:

- `1`
- `2`
- `3`

#### quizTemplates.quizId

Returns the quiz ID.

#### quizTemplates.quizTimes

Returns a dictionary with task ID's as `keys` and time spent on each task in second as `values`.

#### quizTemplates.state

Returns an object that has arrays that show scores, maxScores, which tasks have been viewed yet and total time viewed of each task.

#### quizTemplates.state2

This returns the same data as `quizTemplates.state`, except most of the data is converted into strings that seem to be obfuscated (a lot of backslashes `\` used).

#### quizTemplates.workingState

Seems to just be `quizTemplates.state` fully turned into a single string and obfuscated.

### Methods (functions) TODO
